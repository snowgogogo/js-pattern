<!DOCTYPE html>
<html>

<head>
</head>

<body>
  <script type="text/javascript" src="index.js"></script>
  <script type="text/javascript">
    var subject = new Subject();

    // 添加观察者
    function user1(data) {
      console.log('添加一名观察者: 小红,今天看了 ' + data + ' 场电影.');
    }
    function user2(data) {
      console.log('添加一名观察者: 小明,今天看了 ' + data + ' 场电影.');
    }
    function user3(data) {
      console.log('添加一名观察者: 小花,今天看了 ' + data + ' 场电影.');
    }
    subject.addObserver(user1);
    subject.addObserver(user2);
    var resAdd = subject.addObserver(user3);
    console.log('一共添加了:\n' + resAdd.observers.length + ' 名观察者');

    // 删除观察者
    var resdel = subject.removeObserver(user2);
    console.log('删除完后,还剩:\n' + resdel.observers.length + ' 名观察者');

    // 通知
    subject.notify(18);
  </script>
</body>

</html>
